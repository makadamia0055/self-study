<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>정규표현식으로 문자열 치환하기</title>
</head>
<body>
	<script>
		/*
		String객체의 replace메소드는 정규표현식으로 특정 문자열 검색한 뒤 원하는 문자열로 대체함.
		
		문자열.replace(교체 대상 문자열 또는 정규식, 대체될 문자열 또는 함수)

		첫번째 인자에 g플래그를 사용함ㄴ 일치하는 모든 문자열을 찾을 수 있음.
		대상 문자열을 찾은 다음에는 두번째 인자를 사용하여 문자열을 교체함.
		두번째 인자로 함수를 사용할 때는 
		일치한 문자열, 일치한 값들, 일차한 값의 위치, 원본 문자열을 매개변수로 사용함.


		$$ : $기호 넣음
		$&(lastMatch) 일치하는 문자열을 뒷쪽에 넣음
		$`(leftContent) :일치하는 문자열을 앞쪽에 넣습니다.
		$'(rightContext) :일치하는 문자열의 문자열을 넣습니다
		$n($1~$9) : n번째 일치하는 부분의 일치하는 분자열을 넣습니다.

		*/
		console.log('2018-08-03 07-23-14'.replace('-', ':'));
		console.log('2018-08-03 07-23-14'.replace(/-/g, ':'));
		console.log('2018-08-03 07-23-14'.replace(/\d/g, '9'));

		const litteWomen = 'Meg March, joMarch, Beth march, Amy March';
		console.log(litteWomen.replace(/\w+ March/ig, 'Mrs.$&'));
		console.log(litteWomen.repeat(/\w+ March/ig, (str, d1, d2, d3, d4, offset, s) => {
			let tag = '';
			if(/Meg/.text(str)) tag = '첫째'
			else if(/Jo/.text(str)) tag = '둘째'
			else if(/Beth/.text(str)) tag = '셋째'
			else if(/Amy/.text(str)) tag = '넷째'

			console.log(`원작 "작은 아씨들"에서 주인공 ${str}은 ${tag}입니다.`);
			return tag;
		}));
		
		const name = "March Amy";
		console.log(name.replace(/(March) (Amy)/, '$2 $1'));
		console.log(name.replace(/(March) (Amy)/, (str, first, second, offset, s) =>{
			console.log(`${second} is name, ${first} is first name.`);
			return `${second} ${first}`
		}))
	</script>
</body>
</html>